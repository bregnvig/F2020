<mat-form-field class="w-full" subscriptSizing="dynamic">
  <mat-label>{{label}}</mat-label>
  <mat-select [formControl]="selectControl">
    @if (teams) {
      @for (teamAndDrivers of allTeamAndDrivers; track teamAndDrivers) {
        <mat-optgroup [label]="teamAndDrivers[0]">
          @for (driverId of teamAndDrivers[1]; track driverId) {
            <mat-option [value]="driverId">
              {{driverId | driverName}}
            </mat-option>
          }
        </mat-optgroup>
      }
    } @else {
      @for (driverId of driverIds; track driverId) {
        <mat-option [value]="driverId">
          {{driverId | driverName}}
        </mat-option>
      }
    }
  </mat-select>
  @if (error) {
    <mat-hint align="end">{{error}}</mat-hint>
  }
</mat-form-field>
